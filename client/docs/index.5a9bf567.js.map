{"mappings":"AAAA,MAAMA,eAAiBC,SAASC,eAAe,mBACzCC,YAAcF,SAASC,eAAe,iBACtCE,UAAYH,SAASC,eAAe,cACpCG,aAAeJ,SAASC,eAAe,iBAEvCI,UAAY,GAElBH,YAAYI,iBAAiB,SAAS,KACpC,GAAIP,eAAeQ,SAASC,OAHZ,GAGgC,CAC9C,MAAMC,EAAQT,SAASU,cAAc,SACrCD,EAAME,KAAO,QACbF,EAAMG,KAAO,WACbH,EAAMI,YAAc,sBACpBJ,EAAMK,UAAW,EACjBL,EAAMM,UAAUC,IAAI,cAAe,SAAU,SAAU,kBAAmB,MAAO,WACjFjB,eAAekB,YAAYR,EAC7B,KAGFV,eAAeO,iBAAiB,SAAS,KACvC,MAAMY,EAAcC,MAAMC,KAAKpB,SAASqB,iBAAiB,iBACnDC,EAAeJ,EAAYK,QAAOd,GAAgC,KAAvBA,EAAMe,MAAMC,SACvDC,EAAcJ,EAAaK,KAAIlB,GAASA,EAAMe,MAAMC,SACpDG,EAAgB,IAAIC,IAAIH,GAAaI,OAASJ,EAAYlB,OAEhEL,UAAU4B,SAAWT,EAAad,OAAS,GAAKoB,EAE5CA,GACFxB,aAAaW,UAAUiB,OAAO,UAC9Bd,EAAYe,SAAQxB,IACdiB,EAAYH,QAAOW,GAASA,IAAUzB,EAAMe,MAAMC,SAAQjB,OAAS,EACrEC,EAAMM,UAAUC,IAAI,kBAEpBP,EAAMM,UAAUiB,OAAO,uBAI3B5B,aAAaW,UAAUC,IAAI,UAC3BE,EAAYe,SAAQxB,GAASA,EAAMM,UAAUiB,OAAO,oBACtD,IAGFhC,SAASC,eAAe,cAAcK,iBAAiB,UAAU6B,MAAOC,IACtEA,EAAEC,iBACF,MAAMnB,EAAcC,MAAMC,KAAKpB,SAASqB,iBAAiB,iBACnDiB,EAASpB,EAAYS,KAAIlB,GAASA,EAAMe,MAAMC,gBAE7Bc,MAAM,8BAA+B,CAC1DC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEN,cAGZO,IACXC,MAAM,gDACN5B,EAAYe,SAAQxB,GAASA,EAAMe,MAAQ,MAE3CsB,MAAM","sources":["client/script.js"],"sourcesContent":["const emailContainer = document.getElementById('email-container');\nconst addEmailBtn = document.getElementById('add-email-btn');\nconst submitBtn = document.getElementById('submit-btn');\nconst errorMessage = document.getElementById('error-message');\n\nconst maxEmails = 30;\n\naddEmailBtn.addEventListener('click', () => {\n  if (emailContainer.children.length < maxEmails) {\n    const input = document.createElement('input');\n    input.type = 'email';\n    input.name = 'emails[]';\n    input.placeholder = 'Enter email address';\n    input.required = true;\n    input.classList.add('email-input', 'w-full', 'border', 'border-gray-300', 'p-2', 'rounded');\n    emailContainer.appendChild(input);\n  }\n});\n\nemailContainer.addEventListener('input', () => {\n  const emailInputs = Array.from(document.querySelectorAll('.email-input'));\n  const filledEmails = emailInputs.filter(input => input.value.trim() !== '');\n  const emailValues = filledEmails.map(input => input.value.trim());\n  const hasDuplicates = new Set(emailValues).size !== emailValues.length;\n\n  submitBtn.disabled = filledEmails.length < 2 || hasDuplicates;\n\n  if (hasDuplicates) {\n    errorMessage.classList.remove('hidden');\n    emailInputs.forEach(input => {\n      if (emailValues.filter(email => email === input.value.trim()).length > 1) {\n        input.classList.add('border-red-500');\n      } else {\n        input.classList.remove('border-red-500');\n      }\n    });\n  } else {\n    errorMessage.classList.add('hidden');\n    emailInputs.forEach(input => input.classList.remove('border-red-500'));\n  }\n});\n\ndocument.getElementById('santa-form').addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const emailInputs = Array.from(document.querySelectorAll('.email-input'));\n  const emails = emailInputs.map(input => input.value.trim());\n\n  const response = await fetch('http://127.0.0.1:3000/draw/', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json'},\n    body: JSON.stringify({ emails })\n  });\n\n  if (response.ok) {\n    alert('üéâ Secret Santa draw completed! Emails sent.');\n    emailInputs.forEach(input => input.value = '');\n  } else {\n    alert('‚ùå Something went wrong. Please try again!');\n  }\n});"],"names":["emailContainer","document","getElementById","addEmailBtn","submitBtn","errorMessage","maxEmails","addEventListener","children","length","input","createElement","type","name","placeholder","required","classList","add","appendChild","emailInputs","Array","from","querySelectorAll","filledEmails","filter","value","trim","emailValues","map","hasDuplicates","Set","size","disabled","remove","forEach","email","async","e","preventDefault","emails","fetch","method","headers","body","JSON","stringify","ok","alert"],"version":3,"file":"index.5a9bf567.js.map"}